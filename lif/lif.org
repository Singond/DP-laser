#+title: LIF
#+author: Jan Slaný
#+options: toc:nil
#+language: cs
#+property: header-args :noweb yes
# +property: header-args :session main
# +property: header-args :output-dir results
#+property: header-args :cache yes
#+latex_class: article
#+latex_class_options: [a4paper,11pt]
#+latex_header: \usepackage[czech]{babel}
#+latex_header: \hypersetup{hidelinks=true}
#+latex_header: \usepackage{siunitx}
#+latex_header: \sisetup{locale = DE, inter-unit-product = \ensuremath{{}\cdot{}}}

# Laserem indukovaná fluorescence selenu ve vodíkovém plameni.
#+name: common
#+begin_src octave :exports none
  set(0, "defaultaxesbox", "on");
  set(0, "defaultaxestickdir", "in");
  set(0, "defaultlinelinewidth", 1.5);
  set(0, "defaultlinemarkersize", 8);
  set(0, "defaultlinemarkerfacecolor", "auto");
#+end_src

* Plamen
#+name:flame
#+begin_src octave :exports results :results output file link :file results/flame.png
	<<common>>
	pkg load singon-plasma;
	img = read_princeton_spe("data-2023-01-20/obr1.SPE");
	merged = mean(img, 3);
	merged -= min(merged(:));
	merged /= max(merged(:));
	imwrite(repelem(merged, 8, 8), "results/flame.png");
#+end_src

#+caption: Snímek plamene bez laseru. Složeno z pěti snímků
#+caption: s \num{10000} akumulacemi.
#+RESULTS[a796261bbeb8f568d39f81332e6623b9cadf8f08]: flame
[[file:results/flame.png]]

* Excitační profil
Výkon laseru je nastaven na konstantní hodnotu, jeho vlnová délka je postupně
měněna a je sledována intenzita odezvy.
První série měření byla provedena bez prostorového filtru,
její výsledky jsou na obrázku č. [[fig:exc-nofilter]].

V druhé sérii byl použit prostorový filtr,
tato je na obrázku č. [[fig:exc-filter]].

#+name:exc-nofilter
#+begin_src octave :exports results :results file link :file results/exc-nofilter.png
	<<common>>
	wavelen;
	figure(1, "visible", "off");
	clf;
	title("Excitační profil");
	xlabel("vlnová délka \\lambda [nm]");
	xlim([195.95 196.20]);
	ylabel("intenzita [a.u.]");
	hold on;
	for x = X([1:5])
		Em = mean(x.E(:,end));
		plot(x.wl, x.in,
			"displayname", sprintf("%.0f \\mu J", Em*1e6));
	endfor
	hold off;
	legend show;
	print -dpng results/exc-nofilter
#+end_src

#+caption: Excitační profil bez prostorového filtru.
#+label: fig:exc-nofilter
#+RESULTS[ca604023a8efe2b90acd6da0a20568cd74fc4755]: exc-nofilter
[[file:results/exc-nofilter.png]]

#+name:exc-filter
#+begin_src octave :exports results :results file link :file results/exc-filter.png
	<<common>>
	wavelen;
	figure(1, "visible", "off");
	clf;
	title("Excitační profil");
	xlabel("vlnová délka \\lambda [nm]");
	xlim([195.95 196.20]);
	ylabel("intenzita [a.u.]");
	hold on;
	for x = X([6:end])
		Em = mean(x.E(:,end));
		plot(x.wl, x.in,
			"displayname", sprintf("%.2f \\mu J", Em*1e6));
	endfor
	hold off;
	legend show;
	print results/exc-filter.png
#+end_src

#+caption: Excitační profil s prostorovým filtrem.
#+label: fig:exc-filter
#+RESULTS[f781dc271c2bc6ce874d1b5f208fc4fd24854124]: exc-filter
[[file:results/exc-filter.png]]

* Saturace
Vlnová délka laseru je nastavena na \SI{196.032}{\nano\metre}.

#+begin_src octave :exports results :results output file link :file results/saturation.png
	<<common>>
	saturation;
	figure(1, "visible", "off");
	clf;
	title("Saturace");
	xlabel("energie pulzu E [uJ]");
	ylabel("intenzita [a.u.]");
	hold on;
	for x = X
		plot(x.E, x.in, "d-");
	endfor
	print results/saturation.png
#+end_src

#+RESULTS[20412da832bc09fb52220aab7858ca28bc5e383e]:
[[file:results/saturation.png]]

#+begin_src octave :exports none
	close all
#+end_src

# Local Variables:
# tab-width: 4
# org-babel-octave-shell-command: "octave -q --norc"
# org-confirm-babel-evaluate: nil
# End:
