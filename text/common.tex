\usetikzlibrary{arrows.meta}
\usetikzlibrary{bending}
\usetikzlibrary{decorations.pathmorphing}
\usetikzlibrary{positioning}

\tikzset{
	level/.style = {},
	transition/.style = {
		thick,
		arrows = {-Latex},
	},
	radiation/.style = {
		arrows = {-Latex},
		decorate,
		decoration = {snake, post=lineto, post length=8pt},
	}
}

\DeclareSIUnit\sccm{sccm}
\DeclareSIUnit\ppb{ppb}
\DeclareSIUnit\arbunit{rel.\ j.}
\DeclareSIUnit\pixel{px}
\DeclareSIQualifier\peaktopeak{pp}

% Math symbols
\newcommand\eu{e}
\newcommand\im{i}
\newcommand\conv{\ast}

% Physics symbols
\newcommand\lightspeed{c}
\newcommand\planck{h}
\newcommand\planckr{\hbar}
\newcommand\boltzmann{k_\text{B}}
\newcommand\permittivity{\varepsilon}

% Common
\newcommand\tim{t}
\newcommand\freq{\nu}
\newcommand\wavelen{\lambda}
\newcommand\pres{p}
\newcommand\temp{T}
\newcommand\enlaser{L}
\newcommand\enlasery{\enlaser_y}
\newcommand\enlaserynorm{\enlaser_{y,\,\text{norm}}}
\newcommand\ity{I}
\newcommand\solidangle{\Omega}
\newcommand\xsect{\sigma}

% E-FISH
\newcommand\dbdvoltage{U}
\newcommand\dbdcurrent{I}
\newcommand\ityfd{I_\text{p}}
\newcommand\elfield{E}
\newcommand\efish{I_{2\omega}}
\newcommand\relperm{\permittivity_\text{r}}
\newcommand\gapwidth{d}
\newcommand\barrierthickness{d_\text{d}}

% LIF
\newcommand\lifetime{\tau}
\newcommand\ndens{n}
\newcommand\lif{F}
\newcommand\lifslope{\alpha}
\newcommand\lifsat{\beta}
\newcommand\specoverlap{\kappa}
\newcommand\qeff{\eta}
\newcommand\einsteina[2]{A_{#1#2}}
\newcommand\einsteinb[2]{B_{#1#2}}
\newcommand\transmittance{T_\text{f}}
\newcommand\lifeff{\qeff_\text{F}}
\newcommand\cameraangle{\solidangle}
\newcommand\rayleigh{R}
\newcommand\rayleighfreq{\freq_\text{R}}
\newcommand\rayleigheff{\qeff_\text{R}}
\newcommand\enlaserrayleigh{L_\text{R}}
\newcommand\rayleighdxsect{\dv{\sigma_\text{R}}{\solidangle}}
\newcommand\profilelaser{l}
\newcommand\profileabs{a}

% Typography
\newcommand\EFISH{E-FISH}
\newcommand\instrname[1]{\emph{#1}}

\newcommand\efishsetup{
}

\newcommand\kryptontalifgrotrian{
	\draw [level] (4,0) -- (6,0)
		node [right] {$4\text{p}^6\ {}^1\text{S}_0$};
	\draw [level] (4,10) -- (6,10)
		node [right] {$5\text{p}'\ [3/2]_2$};
	\draw [level] (3,6) -- (1,6)
		node [left] {$5\text{s}'\ [1/2]_1$};
	\draw [transition] (5,0) -- (5,5);
	\draw [transition] (5,5) -- (5,10);
	\path (5,0)
		-- node [sloped, below] {$2 \times \SI{204.13}{\nano\metre}$} (5,10);
	\draw [transition] (5,10)
		-- node [sloped, above] {$\SI{826.3}{\nano\metre}$} (2,6);
}

\newcommand\liflevels{
	\draw [level] (-1,0)  node [left] {$1$} -- (10,0);
	\draw [level] (-1,10) node [left] {$3$} -- (10,10);
	\draw [level] (8,6) -- (14,6) node [right] {$2$};

	\draw [radiation] (-5,4) -- node [sloped, above] {laser} (-1,1);
	\draw [transition] (0,0) -- node [left]
		{$\specoverlap\displaystyle\frac{\einsteinb13 I}{\lightspeed}$} (0,10);
	\draw [transition] (1,10) -- node [right]
		{$\specoverlap\displaystyle\frac{\einsteinb13 I}{\lightspeed}$} (1,0);
	\draw [transition] (5,10) -- node [right] {$\einsteina31 + Q_{31}$} (5,0);
	\draw [transition] (9,10) -- node [right] {$\einsteina32 + Q_{32}$} (11,6);
	\draw [transition] (11,6) -- node [right] {$\einsteina21 + Q_{21}$} (9,0);
	\draw [radiation] (14,8) -- node [sloped, above] {LIF} (18,9);
}

\newcommand\lifgrotrian{
	\liflevels
}

\newcommand\seleniumlifgrotrian{
	\draw [level] (0,0)
		node [left] {$4s^2 4p^4\ {}^3\text{P}_2$}
		-- (6,0);
	\draw [level] (0,1)
		node [left] {$4s^2 4p^4\ {}^3\text{P}_1$}
		-- (4,1);
	\draw [level] (0,2)
		node [left] {$4s^2 4p^4\ {}^3\text{P}_0$}
		-- (4,2);
	\draw [level] (0,5)
		node [left] {$4s^2 4p^4\ {}^1\text{D}_2$}
		-- (4,5);
	\draw [level] (0,7)
		node [left] {$4s^2 4p^4\ {}^1\text{S}_0$}
		-- (4,7);
	\draw [level] (6,10)
		-- (12,10)
		node [right] {$4s^2 4p^3({}^4\text{S}^\circ) 5s\ {}^3\text{S}^\circ_1$};

	\draw [transition] (5,0)
		-- node [sloped, below] {\SI{196.03}{\nano\metre}} (11,10);
	\draw [transition] (10.5,10) -- (4.5,0);
	\draw [transition] (9,10)
		-- node [sloped, below, pos=0.5] {\SI{203.99}{\nano\metre}} (2,1);
	\draw [transition] (8.5,10)
		-- node [sloped, above, pos=0.8] {\SI{206.28}{\nano\metre}} (2,2);
	\draw [transition] (7.5,10)
		-- node [sloped, below, pos=0.5] {\SI{241.35}{\nano\metre}} (1,5);
	\draw [transition] (7,10)
		-- node [sloped, above] {\SI{350.15}{\nano\metre}} (1,7);
}
